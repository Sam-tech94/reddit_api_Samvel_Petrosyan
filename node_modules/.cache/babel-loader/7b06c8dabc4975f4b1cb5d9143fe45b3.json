{"ast":null,"code":"var _jsxFileName = \"/Users/tumolabsstudent/Desktop/reddit-feed-app/src/components/Articles.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { BeatLoader } from \"react-spinners\";\nimport { css } from \"styled-components\";\nimport Article from \"./Article\";\nimport Pagination from \"./Pagination\";\nimport { HeaderStyles } from \"./styles/HeaderStyles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst loaderCss = css`\n   display: flex;\n   align-items: center;\n   justify-content: center;\n   height: 100vh;\n`;\n\nconst Articles = () => {\n  _s();\n\n  const [data, setData] = useState({\n    articles: [],\n    error: \"\",\n    loading: true\n  });\n  const [subReddit, setSubReddit] = useState(\"webdev\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const postsPerPage = 10;\n  useEffect(() => {\n    const id = setTimeout(() => {\n      axios.get(`https://www.reddit.com/r/${subReddit}.json`).then(res => {\n        setData({\n          articles: res.data.data.children,\n          error: \"\",\n          loading: false\n        });\n      }).catch(error => {\n        setData({\n          articles: [],\n          error: error.message,\n          loading: false\n        });\n      });\n    }, 2000);\n    return () => {\n      clearTimeout(id);\n    };\n  }, [subReddit]);\n  console.log(data.articles); // Get current page\n\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentPosts = data.articles.slice(indexOfFirstPost, indexOfLastPost); // Get page\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(HeaderStyles, {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: subReddit,\n        onChange: e => setSubReddit(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n      children: data.loading ? /*#__PURE__*/_jsxDEV(BeatLoader, {\n        css: loaderCss,\n        color: \"#fe4880\",\n        size: 30\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 33\n      }, this) : currentPosts.map((article, index) => /*#__PURE__*/_jsxDEV(Article, {\n        data: article.data\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 129\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), data.error ? data.error : null, /*#__PURE__*/_jsxDEV(Pagination, {\n      postsPerPage: postsPerPage,\n      totalPosts: data.articles.length,\n      paginate: paginate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Articles, \"CjBG5sO1StEV2rQxSnCEYd6MSic=\");\n\n_c = Articles;\nexport default Articles;\n\nvar _c;\n\n$RefreshReg$(_c, \"Articles\");","map":{"version":3,"names":["axios","React","useState","useEffect","BeatLoader","css","Article","Pagination","HeaderStyles","loaderCss","Articles","data","setData","articles","error","loading","subReddit","setSubReddit","currentPage","setCurrentPage","postsPerPage","id","setTimeout","get","then","res","children","catch","message","clearTimeout","console","log","indexOfLastPost","indexOfFirstPost","currentPosts","slice","e","target","value","map","article","index","length","paginate"],"sources":["/Users/tumolabsstudent/Desktop/reddit-feed-app/src/components/Articles.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { BeatLoader } from \"react-spinners\";\nimport { css } from \"styled-components\";\nimport Article from \"./Article\";\nimport Pagination from \"./Pagination\";\nimport { HeaderStyles } from \"./styles/HeaderStyles\";\n\n\nconst loaderCss = css`\n   display: flex;\n   align-items: center;\n   justify-content: center;\n   height: 100vh;\n`;\n\nconst Articles = () => {\n    const [data, setData] = useState({ articles: [], error: \"\", loading: true });\n    const [subReddit, setSubReddit] = useState(\"webdev\");\n    const [currentPage, setCurrentPage] = useState(1);\n    const postsPerPage = 10;\n\n    useEffect(() => {\n        const id = setTimeout(() => {\n            axios.get(`https://www.reddit.com/r/${subReddit}.json`)\n                .then(res => {\n                    setData({ articles: res.data.data.children, error: \"\", loading: false })\n                })\n                .catch(error => {\n                    setData({ articles: [], error: error.message, loading: false })\n                })\n        }, 2000)\n\n        return () => {\n            clearTimeout(id);\n\n        };\n    }, [subReddit])\n\n    console.log(data.articles)\n\n    // Get current page\n    const indexOfLastPost = currentPage * postsPerPage;\n    const indexOfFirstPost = indexOfLastPost - postsPerPage;\n    const currentPosts = data.articles.slice(indexOfFirstPost, indexOfLastPost);\n\n    // Get page\n    \n\n    return (\n        <div>\n            <HeaderStyles>\n                <input type=\"text\" value={subReddit} onChange={(e) => setSubReddit(e.target.value)} />\n            </HeaderStyles>\n            <article>\n                {/* {article ? article.map((article, index) => <Article key={index} data={article.data} />): <BeatLoader />} */}\n                {data.loading ? <BeatLoader css={loaderCss} color=\"#fe4880\" size={30} /> : currentPosts.map((article, index) => <Article key={index} data={article.data} />)}\n\n            </article>\n\n            {data.error ? data.error : null}\n\n            <Pagination postsPerPage={postsPerPage} totalPosts={data.articles.length} paginate={paginate} />\n        </div>\n    );\n};\n\nexport default Articles;"],"mappings":"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"},"metadata":{},"sourceType":"module"}